{"title":"QuartoWebsiteTest","markdown":{"yaml":{"title":"QuartoWebsiteTest"},"headingText":"THIS PAGE IS UNDER DEVELOPMENT","containsRefs":false,"markdown":"\n\n\n## Integrated Watershed-Area Model Objectives\n\n\\[Insert\\] overall objective of IWAM model: The integrated watershed are model was developed by the Stock Assessment and Recruitment Team (DFO) for the purpose of estimating population statistics, SMSY and SREP, in low-data use-cases.\n\n#### Model References\n\nThis model was developed by (TEAM/WORKING GROUP) by interpreting the models of \\[Insert\\] publication references to e.g., Parken et al. 2006, Liermann et al., etc.\n\n#### Model Description\n\nThe equations and description below will walk you through the hierarchical structure of the IWAM model from raw input to final predictive estimates of spawners required for maximum sustainable yield ($S_{MSY}$) and spawners required for replacement ($S_{REP}$), including a detailed definitions list of all notation used and its corresponding label in the supplied repository code \\[[carrieholt/Watershed-Area-Model: Watershed Area Model (github.com)](https://github.com/carrieholt/Watershed-Area-Model)\\].\n\n## Basic Ricker Model\n\n$$\nR = S e^{\\alpha- \\beta S}e^\\tau\n$$\n\nWhich contains the following terms: $R$ : recruitment per stock \\[numeric, often scaled\\], $S$ : Spawners or spawner abundance \\[numeric, often scaled\\], $\\alpha$ : dimensionless number of recruits per spawner produced at very low spawner density \\[dimensionless\\], this may also be thought of as the intercept of the relationship between $\\frac{R}{S}$ and $S$, $\\beta$ : the strength of the density dependence expressed as $1/S_{MAX}$ \\[$spawners^{-1}$\\], similarly this can be described as the slope of the previously described relationship, $\\tau$ : the normally distributed error. The base Ricker model is written in this form to reflect a stochastic process (time ordered and random) by adding the log-normal error term $\\tau$, a normal distributed term often used to account for environmental variability.\n\n#### Hierarchical Ricker ($\\alpha$) and Linear Form Ricker\n\nThis baseline form is then converted into the two following forms of a hierarchical Ricker (1) and a linearized Ricker (2).\n\n$$\nR_i = S_i \\cdot e^{\\alpha_i-\\beta_i\\cdot S_i}\\cdot e^{\\tau_i}\n$$\n\nWhich is then linearized by log transformation into the form:\n\n$$\nlog(\\frac{R_i}{S_i}) = log(\\alpha_i)-\\beta_i \\cdot S_i + \\tau_i\n$$\n\nWhere $\\tau \\sim Normal(0, \\sigma_\\tau)$\n\nand $log(\\alpha_i) \\sim Normal(\\mu Log(\\alpha), SigmaLog(\\alpha))$,\n\nand $\\mu log(\\alpha_i) \\sim Normal(1.5,5)$,\n\nand $\\sigma log(\\alpha_i) \\sim InvGamma(0.01,0.01)$.\n\nIn this regard, $\\alpha$ is the intercept and $\\beta$ is the slope of the spawner-recruit relationship. The hyper-priors (incorrect term) on $log(\\alpha)$ are likelihood penalties. In a frequentist model description, the penalizing function is a method for smoothing and to improve the sampling of the estimator - in this case \\[INSERT SAMPLER\\].\n\n**BIAS CORRECTION EQUATIONS?**\n\n**INSERT PRIOR DISTRIBUTION PLOTS**\n\n## Watershed Area Model\n\n$$\nln(S_{MSY}) = ln(\\delta_0) + \\delta_1 \\cdot ln(WA) + \\delta_\\epsilon\n$$\n\n$$\nln(S_{REP}) = ln(\\gamma_o) + \\gamma_1 \\cdot ln(WA) + \\gamma_\\epsilon\n$$\n\nwhere,\n\n$$\n\\delta_\\epsilon \\sim N(0,\\sigma_\\delta^2)\n$$\n\n$$\n\\delta_\\gamma \\sim N(0,\\sigma^2_\\gamma)\n$$\n\nWhere $\\delta_0$ is the intercept and $\\delta_1$ is the slope for the relationship between watershed area and either $S_{MSY}$ and $S_{REP}$. These are then adapted further to separate stream-type and ocean-type fish in the watershed area model. This is done by creating an offset with the baseline as the stream type population.\n\n$$\nln(S_{MSY}) = ln(\\delta_{0,stream}) + ln(\\delta_{0,ocean}) \\cdot X + (\\delta_{1,stream} + \\delta_{1,ocean} \\cdot X) \\cdot ln(WA) + \\delta_\\epsilon\n$$\n\nwhere, $\\delta_\\epsilon \\sim Normal(0,\\sigma_\\epsilon)$ and $X = 0$ for stream type and $X = 1$ is for ocean type populations.\n\n#### $S_{MSY}$ and $S_{REP}$ Calculation\n\n$$\nS_{MSY} = \\frac{1-W(e^{1-(\\alpha)})}{\\beta}\n$$\n\n$$\nS_{REP} = \\frac{\\alpha}{\\beta}\n$$\n\n## IWAM Model Outline Reference\n\nThis section provides a walk through the 6 sections of the IWAM code repository and provided references to possible areas that may require changes depending on your intended usage case. The sections are as listed:\n\n1.  Read in data\n2.  Create data and parameter lists for TMB\n    1.  Data Removals and Cleaning\n\n    2.  Scale Calculation\n\n    3.  Calculation of Survival Covariates\n\n    4.  Read in watershed area data and life-history type\n3.  Estimate SR parameters from synoptic data set and SMSY and SREPs\n4.  Compile model outputs\n5.  Calculate diagnostics and plot SR curves, etc.\n    1.  Plot SR Curves\n\n    2.  Plot WA Regression\n6.  Calculate prediction intervals for SMSY and SREP for additional stocks\n\n## TMB Model Outline Reference\n\nThis section is dedicated to providing a written guide to the format of the IWAM TMB model. The code is divided into the following sections:\n\n## Dictionary of Referenced Functions\n\nThis section provides a reference to all associated scripts that work alongside the IWAM.\n\n-   PlotSR.R: Features the following functions:\n\n    -   t_col():\n\n    -   PlotSRCurve():\n\n    -   PlotSRLinear():\n\n    -   PlotStdResid():\n\n    -   Plotacf():\n\n    -   plotWAregressionSMSY():\n\n    -   plotWAregressionSREP():\n\n    -   plotWAregression_Parken():\n\n    -   plotWAregression_ParkenSep():\n\n    -   plotRicA():\n\n    -   plotTestStocks():\n\n    -   plotSMSY():\n\n    -   plotWCVIBenchmarks():\n\n    -   plotWCVI_timeseries():\n\n    -   plotWCVI_SMUtimeseries():\n\n    -   plotLogistic():\n\n    -   PlotAnnualIndicator():\n\n-   helperFunctions.R: Features the following functions:\n\n    -   inv_logit():\n\n    -   logit():\n\n    -   gm_mean():\n\n    -   count.dig():\n\n    -   '%not in%':\n\n    -   PredInt():\n\n    -   sGenOptimum():\n\n    -   sGenSolver():\n\n    -   bEst():\n\n    -   bSolver():\n\n    -   Sgen.fn():\n\n    -   Sgen.fn2():\n\n    -   ggplot.corr():\n\n## Dictionary of Terms and Variables\n\nThis section is provides a written reference to all key model variables cross-referenced between IWAM.R and the .cpp TMB file.\n","srcMarkdownNoYaml":"\n\n# THIS PAGE IS UNDER DEVELOPMENT\n\n## Integrated Watershed-Area Model Objectives\n\n\\[Insert\\] overall objective of IWAM model: The integrated watershed are model was developed by the Stock Assessment and Recruitment Team (DFO) for the purpose of estimating population statistics, SMSY and SREP, in low-data use-cases.\n\n#### Model References\n\nThis model was developed by (TEAM/WORKING GROUP) by interpreting the models of \\[Insert\\] publication references to e.g., Parken et al. 2006, Liermann et al., etc.\n\n#### Model Description\n\nThe equations and description below will walk you through the hierarchical structure of the IWAM model from raw input to final predictive estimates of spawners required for maximum sustainable yield ($S_{MSY}$) and spawners required for replacement ($S_{REP}$), including a detailed definitions list of all notation used and its corresponding label in the supplied repository code \\[[carrieholt/Watershed-Area-Model: Watershed Area Model (github.com)](https://github.com/carrieholt/Watershed-Area-Model)\\].\n\n## Basic Ricker Model\n\n$$\nR = S e^{\\alpha- \\beta S}e^\\tau\n$$\n\nWhich contains the following terms: $R$ : recruitment per stock \\[numeric, often scaled\\], $S$ : Spawners or spawner abundance \\[numeric, often scaled\\], $\\alpha$ : dimensionless number of recruits per spawner produced at very low spawner density \\[dimensionless\\], this may also be thought of as the intercept of the relationship between $\\frac{R}{S}$ and $S$, $\\beta$ : the strength of the density dependence expressed as $1/S_{MAX}$ \\[$spawners^{-1}$\\], similarly this can be described as the slope of the previously described relationship, $\\tau$ : the normally distributed error. The base Ricker model is written in this form to reflect a stochastic process (time ordered and random) by adding the log-normal error term $\\tau$, a normal distributed term often used to account for environmental variability.\n\n#### Hierarchical Ricker ($\\alpha$) and Linear Form Ricker\n\nThis baseline form is then converted into the two following forms of a hierarchical Ricker (1) and a linearized Ricker (2).\n\n$$\nR_i = S_i \\cdot e^{\\alpha_i-\\beta_i\\cdot S_i}\\cdot e^{\\tau_i}\n$$\n\nWhich is then linearized by log transformation into the form:\n\n$$\nlog(\\frac{R_i}{S_i}) = log(\\alpha_i)-\\beta_i \\cdot S_i + \\tau_i\n$$\n\nWhere $\\tau \\sim Normal(0, \\sigma_\\tau)$\n\nand $log(\\alpha_i) \\sim Normal(\\mu Log(\\alpha), SigmaLog(\\alpha))$,\n\nand $\\mu log(\\alpha_i) \\sim Normal(1.5,5)$,\n\nand $\\sigma log(\\alpha_i) \\sim InvGamma(0.01,0.01)$.\n\nIn this regard, $\\alpha$ is the intercept and $\\beta$ is the slope of the spawner-recruit relationship. The hyper-priors (incorrect term) on $log(\\alpha)$ are likelihood penalties. In a frequentist model description, the penalizing function is a method for smoothing and to improve the sampling of the estimator - in this case \\[INSERT SAMPLER\\].\n\n**BIAS CORRECTION EQUATIONS?**\n\n**INSERT PRIOR DISTRIBUTION PLOTS**\n\n## Watershed Area Model\n\n$$\nln(S_{MSY}) = ln(\\delta_0) + \\delta_1 \\cdot ln(WA) + \\delta_\\epsilon\n$$\n\n$$\nln(S_{REP}) = ln(\\gamma_o) + \\gamma_1 \\cdot ln(WA) + \\gamma_\\epsilon\n$$\n\nwhere,\n\n$$\n\\delta_\\epsilon \\sim N(0,\\sigma_\\delta^2)\n$$\n\n$$\n\\delta_\\gamma \\sim N(0,\\sigma^2_\\gamma)\n$$\n\nWhere $\\delta_0$ is the intercept and $\\delta_1$ is the slope for the relationship between watershed area and either $S_{MSY}$ and $S_{REP}$. These are then adapted further to separate stream-type and ocean-type fish in the watershed area model. This is done by creating an offset with the baseline as the stream type population.\n\n$$\nln(S_{MSY}) = ln(\\delta_{0,stream}) + ln(\\delta_{0,ocean}) \\cdot X + (\\delta_{1,stream} + \\delta_{1,ocean} \\cdot X) \\cdot ln(WA) + \\delta_\\epsilon\n$$\n\nwhere, $\\delta_\\epsilon \\sim Normal(0,\\sigma_\\epsilon)$ and $X = 0$ for stream type and $X = 1$ is for ocean type populations.\n\n#### $S_{MSY}$ and $S_{REP}$ Calculation\n\n$$\nS_{MSY} = \\frac{1-W(e^{1-(\\alpha)})}{\\beta}\n$$\n\n$$\nS_{REP} = \\frac{\\alpha}{\\beta}\n$$\n\n## IWAM Model Outline Reference\n\nThis section provides a walk through the 6 sections of the IWAM code repository and provided references to possible areas that may require changes depending on your intended usage case. The sections are as listed:\n\n1.  Read in data\n2.  Create data and parameter lists for TMB\n    1.  Data Removals and Cleaning\n\n    2.  Scale Calculation\n\n    3.  Calculation of Survival Covariates\n\n    4.  Read in watershed area data and life-history type\n3.  Estimate SR parameters from synoptic data set and SMSY and SREPs\n4.  Compile model outputs\n5.  Calculate diagnostics and plot SR curves, etc.\n    1.  Plot SR Curves\n\n    2.  Plot WA Regression\n6.  Calculate prediction intervals for SMSY and SREP for additional stocks\n\n## TMB Model Outline Reference\n\nThis section is dedicated to providing a written guide to the format of the IWAM TMB model. The code is divided into the following sections:\n\n## Dictionary of Referenced Functions\n\nThis section provides a reference to all associated scripts that work alongside the IWAM.\n\n-   PlotSR.R: Features the following functions:\n\n    -   t_col():\n\n    -   PlotSRCurve():\n\n    -   PlotSRLinear():\n\n    -   PlotStdResid():\n\n    -   Plotacf():\n\n    -   plotWAregressionSMSY():\n\n    -   plotWAregressionSREP():\n\n    -   plotWAregression_Parken():\n\n    -   plotWAregression_ParkenSep():\n\n    -   plotRicA():\n\n    -   plotTestStocks():\n\n    -   plotSMSY():\n\n    -   plotWCVIBenchmarks():\n\n    -   plotWCVI_timeseries():\n\n    -   plotWCVI_SMUtimeseries():\n\n    -   plotLogistic():\n\n    -   PlotAnnualIndicator():\n\n-   helperFunctions.R: Features the following functions:\n\n    -   inv_logit():\n\n    -   logit():\n\n    -   gm_mean():\n\n    -   count.dig():\n\n    -   '%not in%':\n\n    -   PredInt():\n\n    -   sGenOptimum():\n\n    -   sGenSolver():\n\n    -   bEst():\n\n    -   bSolver():\n\n    -   Sgen.fn():\n\n    -   Sgen.fn2():\n\n    -   ggplot.corr():\n\n## Dictionary of Terms and Variables\n\nThis section is provides a written reference to all key model variables cross-referenced between IWAM.R and the .cpp TMB file.\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Archive","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.130","editor":"visual","theme":"cosmo","title":"QuartoWebsiteTest"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}